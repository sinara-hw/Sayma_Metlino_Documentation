Routing
=======

This section contain general blockm scheme of SAYMA AMC board and I2C map with addresses. General Block Scheme - figure \ref{BlockScheme}
shows more important connections between components. I2C connections with addresses can be found in figure \ref{I2C}. Detailed clocking scheme can be found in next paragraph in figure \ref{clocking}.

.. figure:: img/sch.eps

General Block Scheme

.. figure:: img/sch_mgt.eps

MGT

+---------------+-----------+------------------+
|Transceiver MGT| Direction | Routed to        |
+---------------+-----------+------------------+
|0\_224         |TX         |SFP1              |
+---------------+-----------+------------------+
|0\_224         |RX         |SFP1              |
+---------------+-----------+------------------+
|1\_224         |TX         |SFP2              |
+---------------+-----------+------------------+
|1\_224         |RX         |SFP2              |
+---------------+-----------+------------------+
|2\_224         |TX         |FP1 or MASTER SATA|
+---------------+-----------+------------------+
|2\_224         |RX         |FP1 or MASTER SATA|
+---------------+-----------+------------------+
|3\_224         |TX         |FP1 or SLAVE SATA |
+---------------+-----------+------------------+
|3\_224         |RX         |FP1 or SLAVE SATA |
+---------------+-----------+------------------+
|0\_225         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|0\_225         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|1\_225         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|1\_225         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|2\_225         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|2\_225         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|3\_225         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|3\_225         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|0\_226         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|0\_226         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|1\_226         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|1\_226         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|2\_226         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|2\_226         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|3\_226         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|3\_226         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|0\_227         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|0\_227         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|1\_227         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|1\_227         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|2\_227         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|2\_227         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|3\_227         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|4\_227         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|0\_228         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|0\_228         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|1\_228         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|1\_228         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|2\_228         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|2\_228         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+
|3\_228         |TX         |RTM\_GTP          |
+---------------+-----------+------------------+
|4\_228         |RX         |RTM\_GTP          |
+---------------+-----------+------------------+

The I2C MUX is made from two (TCA9548ARGER) I2C multiplexers. In Sayma AMC there are two main I2C busses: MMC\_I2C and FPGA\_I2C. Each of them is connected to one multiplexer. Outputs are tied together, so Masters (MMC and FPGA) can acces to any of 7 I2C busses. Addidtionaly MMC has acces to FPGA\_I2C and is connected to IPMB through AMC connector.

.. figure:: img/i2c.eps

I2C map with addresses in hex

